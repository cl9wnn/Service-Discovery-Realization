# Дизайн-документ: Service Discovery и динамическое управления топологией

Функциональные требования:
- Принимает входящие HTTP-запросы от клиентов.
- Выбирает подходящий экземпляр сервиса для обработки запроса (например, с использованием алгоритма Round-Robin или липкими сессиями).
- Проксирует запрос к выбранному сервису и передает клиенту его ответ.
- Хранит список активных сервисов в памяти.
- Обеспечивает механизмы регистрации и удаления сервисов.
- Поддерживает механизм heartbeat, позволяющий исключать недоступные сервисы.
- Админ-панель для мониторинга запросов и реплик: отслеживание, куда пошёл запрос, время выполнения, статус реплик и метрики и тд.

Реализация:
- Реализация HTTP-сервера на ASP.NET
- Простая маршрутизация запросов с учетом доступных сервисов.
- Поддержка динамического обновления списка сервисов.
- Хранение информации о инстансах в Concurrent Dictionary.
- Сервер на ASP.NET. 
- Фоновый процесс, проверяющий доступность сервисов по тайм-ауту на Hangfire.
- Удаление сервисов, не отправивших heartbeat в течение заданного времени.
- Веб клиент, позволяющий удалять, добавлять реплики, просмотривать историю запросов, их путь и статистику на каждом этапе. 
