# Дизайн-документ: Service Discovery и динамическое управления топологией

Функциональные требования:
- Принимает входящие HTTP-запросы от клиентов.
- Выбирает подходящий экземпляр сервиса для обработки запроса (например, с использованием алгоритма Round-Robin или липкими сессиями).
- Проксирует запрос к выбранному сервису и передает клиенту его ответ.
- Хранит список активных сервисов в памяти.
- Обеспечивает механизмы регистрации и удаления сервисов.
- Поддерживает механизм фоновый heartbeat, позволяющий исключать недоступные сервисы.
- Админ-панель для управления репликами.  
- Логгирование запросов
- Маршрутизация запросов по приложениям и их репликам.

Реализация:
- Реализация HTTP-сервера на ASP.NET
- Простая маршрутизация запросов с учетом доступных сервисов.
- Поддержка динамического обновления списка сервисов.
- Хранение информации о инстансах в Concurrent Dictionary.
- Фоновый процесс, проверяющий доступность сервисов по тайм-ауту на Hangfire.
- Веб клиент, позволяющий удалять, добавлять реплики, просмотривать историю запросов, их путь и статистику на каждом этапе. 
